{"version":3,"file":"wmLogin-angular.min.js","sources":["../wmLogin-angular.js"],"names":["module","angular","constant","window","angularConfig","username","email","factory","$timeout","selector","el","element","focus","$scope","password","blur","eightCharsState","oneEachCaseState","oneNumberState","isValidPassword","lengthValid","length","validCase","match","hasNumber","$rootScope","$modal","$window","$location","CONFIG","apply","$$phase","$apply","auth","WebmakerAuthClient","host","csrfToken","csrf","handleNewUserUI","_user","logout","lang","on","user","search","login","message","xhr","console","error","searchObj","uid","token","authenticateToken","validFor","verify","directive","restrict","link","$element","wmCreateUser","controller","$http","wmLoginService","wmRegex","createUserController","$modalInstance","getModalIdx","Math","floor","random","form","enterEmail","selectUsername","welcome","submitEmail","submit","agree","checkEmail","isValid","test","$setValidity","uidExists","err","resp","exists","submitUsername","$valid","sendingRequest","createNewUser","welcomeModalIdx","continue","dismiss","cancel","analytics","webmakerNewUserCancelled","switchToLogin","close","wmTokenLogin","checkUsername","post","urls","success","tryApp","app","location","open","templateUrl","resolve","opened","then","tokenLoginController","passwordReset","disableListeners","off","MODALSTATE","enterUid","enterKey","enterPassword","resetRequestSent","currentState","switchToSignup","submitUid","requestToken","isVerified","request","input","usePasswordLogin","verified","submitKey","key","submitPassword","verifyPassword","result","requestReset","requestResetCode","usePersona","triggered","passwordValidator","passwordResetController","resetCode","eightChars","oneEachCase","oneNumber","checkPassword","value","validateConfirmPassword","confirmValue","passwordsMatch","canSubmit","submitReset","resetPassword","JSON","parse","passed","ex","createUserCtrl","assertion","$viewValue","createUser"],"mappings":"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"}